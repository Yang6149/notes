# 单例设计模式  
单例设计模式有两种：懒汉式和饿汉式  
就是在多线程中，懒汉式更安全，不会多次实例化。  
饿汉式为最简单的：
```java
class single{
    private static single s=null;
    private single(){
        System.out.println("constructor");
    }
    public static single GetSingle(){
            if(s==null){
                 s=new single();
            }
        return s;
    }
    public void write(){
        System.out.println("write function");
    }
}
```
这种再多线程中可能在第一次实例前会有多个线程进入s==null判断中去进行实例  

懒汉式为：
```java
public class TestRun {
    public static void main(String[] args) {
        for(int i =0;i<5;i++){
            new Thread(()->{
                single.GetSingle().write();
            },"Thread"+i).start();
        }
    }

}
class single{
    private volatile static single s=null;
    private single(){
        System.out.println("constructor");
    }
    public static single GetSingle(){
        if(s==null){
            synchronized (single.class){
                if(s==null){
                    s=new single();
                }
            }
        }
        return s;
    }
    public void write(){
        System.out.println("write function");
    }
}
```  
加上同步操作，防止多次实例，在synchronized之前再加一次判断来增加性能。